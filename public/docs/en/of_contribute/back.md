# Project Backend Structure

## Structure of Each Module

```bash
[Module: "A"]
 ├── [Submodule]       → Module dependent on A, same structure as A
 ├── internal          → Core code repository
 ├── test              → Repository for tests of internal
 │   ├── __init__.py   → Collects and exports all tests, can be imported from [codebase root]/test
 ├── __init__.py       → Exports code from internal

```

The reason for the existence of internal and __init__.py is to implement selective export, which is not natively provided by Python. This allows for intuitive import statements like `from A import XXX` while exporting only the intended objects. A minor drawback is that the depth is doubled.

## Component Summary

1. Data: `/data`
    Contains all the actual data used in the project.
    Includes domain data such as Cursor, Tile, and internal DTOs used in Events like Payload.

2. Handler: `/handler`
    Components that manage the data itself or the relationships between data.
    Can be seen as interfaces that need to be accessed to interact with the data. Each Handler is dependent on one type of data.
    
3. Receiver: `/receiver`
    Components responsible for the actual business logic.
    Can be connected to events in an n:m relationship.
    Currently, each subscribes to one event and executes the corresponding logic. Can use the Handlers of each data.
    Outputs according to the logic are generated by changing the state of the data using Handlers or by publishing Events.

4. Event: `/event`
    Declares the Messages needed for Event publishing and contains the EventBroker.

## Component Structure Visualization

![](https://cdn.discordapp.com/attachments/1300053843366776862/1347754020986683554/image.png?ex=67cf9c3e&is=67ce4abe&hm=7e8b4741d6c747fa974961d25a6f90989ccb2228a6476f060163078837052e44&)
