(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[833],{7439:(e,t,n)=>{Promise.resolve().then(n.bind(n,2715))},2715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var r=n(5155);n(9194);var l=n(1269),o=n.n(l),i=n(2115);function s(){let[e,t]=(0,i.useState)({windowWidth:0,windowHeight:0});return(0,i.useEffect)(()=>{t({windowWidth:1.1*window.innerWidth,windowHeight:1.1*window.innerHeight});let e=()=>{t({windowWidth:1.1*window.innerWidth,windowHeight:1.1*window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}let a=e=>{let t;let n=new Set,r=(e,r)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=r?r:"object"!=typeof l||null===l)?l:Object.assign({},t,l),n.forEach(n=>n(t,e))}},l=()=>t,o={setState:r,getState:l,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(r,l,o);return o},c=e=>e?a(e):a,d=e=>e,u=e=>{let t=c(e),n=e=>(function(e,t=d){let n=i.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return i.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},f=e=>e?u(e):u,h=f(e=>({x:0,y:0,color:"blue",originX:0,originY:0,zoom:1,setColor:t=>e({color:t}),setX:t=>e({x:t}),setY:t=>e({y:t}),setZoom:t=>e({zoom:t}),goup:()=>e(e=>({originY:e.originY-1})),godown:()=>e(e=>({originY:e.originY+1})),goleft:()=>e(e=>({originX:e.originX-1})),goright:()=>e(e=>({originX:e.originX+1})),goUpLeft:()=>e(e=>({originX:e.originX-1,originY:e.originY-1})),goUpRight:()=>e(e=>({originX:e.originX+1,originY:e.originY-1})),goDownLeft:()=>e(e=>({originX:e.originX-1,originY:e.originY+1})),goDownRight:()=>e(e=>({originX:e.originX+1,originY:e.originY+1})),setOringinPosition:(t,n)=>e({originX:t,originY:n}),setPosition:(t,n)=>e({x:t,y:n})})),g=f(e=>({cursors:[],addCursors:t=>e(e=>({cursors:[...e.cursors,...t]})),removeCursor:t=>e(e=>({cursors:e.cursors.filter(e=>e!==t)})),setCursors:t=>e({cursors:t})}));var x=n(40),y=n.n(x);let p=JSON.parse('{"HP":{"inner":[["#8fe340","#A4E863"],["#62B628","#71C637"],["#F1FAD1","#E9F6B9"]],"outer":[["#A8EC67","#81D92C"],["#74C63C","#5BB31F"],["#E9FAAA","#F5FDD8"]]},"nf":["M219.428 109.389 C226.519 114.964 223.188 126.337 214.21 127.205 L79.8702 140.188 L115.929 28.0267 L219.428 109.389 Z","M79.9801 8.51632 C75.8798 9.72627 73.972 13.8825 73.0599 18.0591 L25.8244 234.356 C30.5707 235.401 36.0988 236 42 236 C45.1362 236 48.1671 235.831 51.0311 235.515 L116.451 28.5289 C117.573 24.9766 117.96 21.0358 115.39 18.3387 C112.87 15.6942 108.055 12.4097 98.862 9.69397 C89.7757 7.00975 83.7643 7.39963 79.9801 8.51632 Z"],"qN":[" M77.85 145.025 L0.899994 54.5752 L103.5 92.3752 L117 0.575195 L164.25 74.8252 L219.6 38.3752 L202.05 103.175 L276.3 108.575 L219.6 153.125 L287.1 223.325 L198 230.075 L177.75 312.425 L130.5 236.825 L67.05 284.075 L75.15 196.325 L11.7 177.425 L77.85 145.025 "," M67.05 104.525 L104.85 150.425 L71.1 169.325 L104.85 178.775 L100.8 226.025 L133.2 200.375 L158.85 239.525 L168.3 196.325 L218.25 192.275 L181.8 154.475 L212.85 131.525 L171 128.825 L181.8 93.7251 L152.1 113.975 L126.45 73.4751 L118.35 122.075 L67.05 104.525 "],"PN":"M12.2719 13.6437 C11.4141 6.37712 19.6676 1.61197 25.5317 5.9881 L165.217 110.229 C171.554 114.958 168.358 125.029 160.453 125.238 L100.228 126.83 C91.7695 127.053 83.9984 131.54 79.5756 138.753 L48.0844 190.114 C43.9511 196.855 33.6313 194.587 32.7043 186.735 L12.2719 13.6437 Z`","Ml":["#0059B280","#0095B280","#00B20080","#77B20080","#B2950080","#B24A0080","#B2000080","#7700B280"]}'),v=f(e=>({x:1/0,y:1/0,content:"",movecost:0,setMovecost:t=>e({movecost:t}),setPosition:(t,n,r)=>e({x:t,y:n,content:r})})),L=f(e=>({socket:null,message:"",isOpen:!1,connect:t=>{let n=new WebSocket(t);n.onopen=()=>e({socket:n,isOpen:!0}),n.onclose=()=>e({socket:null,isOpen:!1}),n.onmessage=t=>e({message:t.data})},disconnect:()=>{e(e=>{var t;return null===(t=e.socket)||void 0===t||t.close(),{socket:null,isOpen:!1}})},sendMessage:t=>{t&&e(e=>{var n;return e.isOpen&&(null===(n=e.socket)||void 0===n||n.send(t)),{}})}}));class w{constructor(e,t){this.x=e,this.y=t,this.g=1/0,this.h=0,this.f=1/0,this.parent=null}}let C=e=>{let{paddingTiles:t,tiles:n,tileSize:l,cursorOriginX:o,cursorOriginY:a,startPoint:c}=e,d=o-c.x,u=a-c.y,f=(t-1)*d/t,x=(t-1)*u/t,{qN:C,PN:m,nf:S,HP:_,Ml:M}=p,E={red:"#FF4D00",blue:"#0094FF",yellow:"#F0C800",purple:"#BC3FDC",0:"#FF4D00",1:"#F0C800",2:"#0094FF",3:"#BC3FDC"},{windowHeight:b,windowWidth:j}=s(),{x:F,y:k,godown:B,goleft:A,goright:O,goup:N,goDownLeft:D,goDownRight:P,goUpLeft:R,goUpRight:Y,zoom:I,color:X,setPosition:T}=h(),{setPosition:W,x:H,y:U,setMovecost:G}=v(),{cursors:J}=g(),{message:z,sendMessage:Z}=L(),q=(0,i.useRef)(null),K=(0,i.useRef)(null),Q=(0,i.useRef)(null),V=(0,i.useRef)(null),$=(0,i.useRef)(null),[ee,et]=(0,i.useState)(!0),[en,er]=(0,i.useState)([]),[el,eo]=(0,i.useState)(0),[ei,es]=(0,i.useState)(0),[ea,ec]=(0,i.useState)([]),[ed,eu]=(0,i.useState)(),ef=()=>{$.current&&(clearInterval($.current),$.current=null)};(0,i.useEffect)(()=>{let e=e=>{e.preventDefault()};return window.addEventListener("contextmenu",e),()=>{window.removeEventListener("contextmenu",e),ef()}},[]);let eh=(e,t)=>{if($.current)return;let n=ev(d,u,e,t);G(n.length-1);let r=0,o=n[0];if((null==o?void 0:o.x)===void 0||(null==o?void 0:o.y)===void 0)return;T(e+c.x,t+c.y);let i=(e,t)=>{let n=.1,r=setInterval(()=>{if(!q.current||!K.current||!Q.current)return;let o=e*(l-n*l),i=t*(l-n*l);q.current.style.transform="translate(".concat(o,"px, ").concat(i,"px)"),K.current.style.transform="translate(".concat(o,"px, ").concat(i,"px)"),Q.current.style.transform="translate(".concat(o,"px, ").concat(i,"px)"),n>=1&&(clearInterval(r),q.current.style.transform="",K.current.style.transform="",Q.current.style.transform="",n=1),n+=.1},20)};$.current=setInterval(()=>{if(++r>=n.length){er([]),ef();return}let e=n[r];if(!e)return;let t=Math.sign(e.x-o.x),l=Math.sign(e.y-o.y);1===t&&1===l?P():1===t&&-1===l?Y():1===t&&0===l?O():-1===t&&1===l?D():-1===t&&-1===l?R():-1===t&&0===l?A():0===t&&1===l?B():0===t&&-1===l&&N(),i(t,l),er(n.slice(r)),o=e},200)},eg=(e,t,n)=>{Z(JSON.stringify({event:"pointing",payload:{position:{x:e,y:t},click_type:n}}))},ex=e=>{var t,r;let o=q.current;if(!o)return;let i=o.getBoundingClientRect(),s=e.clientX-i.left,a=e.clientY-i.top,d=Math.floor(s/l+f),u=Math.floor(a/l+x),h=Math.round(d+c.x),g=Math.round(u+c.y),y=null!==(r=null===(t=n[u])||void 0===t?void 0:t[d])&&void 0!==r?r:"Out of bounds";W(h,g,y);let p="GENERAL_CLICK";2===e.buttons&&(p="SPECIAL_CLICK"),"GENERAL_CLICK"!==p||(null==y?void 0:y.includes("F"))||(null==y?void 0:y.includes("C"))||eh(d,u),eg(h,g,p)},ey=function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=I/3.5*o;e.fillStyle=r,e.save(),e.translate(t+l/6/o,n+l/6/o),e.scale(i,i),e.fill(null==ed?void 0:ed.cursor),e.restore()},ep=()=>{let e=Q.current;if(!e)return;let t=e.getContext("2d");t&&(t.clearRect(0,0,j,b),J.forEach(e=>{ey(t,(e.x-o+f)*l,(e.y-a+x)*l,E[e.color])}))};(0,i.useEffect)(()=>{if(z)try{let{event:e}=JSON.parse(z)}catch(e){console.error(e)}},[z]);let ev=(e,t,r,l)=>{let o=new w(e,t),i=new w(r,l),s=[...n.map(e=>[...e.map(()=>null)])];for(let e=0;e<n.length;e++)for(let t=0;t<n[e].length;t++){var a,c;(null===(a=n[e][t])||void 0===a?void 0:a.includes("F"))||(null===(c=n[e][t])||void 0===c?void 0:c.includes("C"))?s[e][t]=null:s[e][t]=new w(t,e)}let d=[o],u=[];for(o.g=0,o.f=o.g+o.h;d.length>0;){let n=d.reduce((e,t)=>e.f<t.f?e:t);if(n.x===i.x&&n.y===i.y){let r=[],l=n;for(eo(l.x-e),es(l.y-t);l;)r.unshift(l),l=l.parent;return r}for(let e of(d=d.filter(e=>e!==n),u.push(n),function(e,t){let n=[];for(let[r,l]of[[-1,0],[0,-1],[0,1],[1,0],[-1,-1],[-1,1],[1,-1],[1,1]]){let o=t.x+r,i=t.y+l;i>=0&&i<e.length&&o>=0&&o<e[i].length&&null!==e[i][o]&&n.push(e[i][o])}return n}(s,n))){if(u.includes(e))continue;let t=n.g+1;if(d.includes(e)){if(t>=e.g)continue}else d.push(e);e.parent=n,e.g=t;let r=Math.abs(e.x-i.x)===Math.abs(e.y-i.y)?Math.SQRT2:1;e.h=r+Math.abs(e.x-i.x)+Math.abs(e.y-i.y),e.f=e.g+e.h}}return[]},eL=()=>{let e=q.current,r=K.current;if(!e||0===l||!r)return;let i=e.getContext("2d"),s=r.getContext("2d");if(!i||!s)return;s.clearRect(0,0,j,b);let c=5*I,h=d/t*l,g=u/t*l,y=h+(H-o)*l,p=g+(U-a)*l,v=new Path2D("\n      M0 0\n      L".concat(l," 0\n      L").concat(l," ").concat(l,"\n      L0 ").concat(l,"\n      L0 0\n      ")),L=new Path2D("\n      M".concat(c," ").concat(c,"\n      L").concat(l-c," ").concat(c,"\n      L").concat(l-c," ").concat(l-c,"\n      L").concat(c," ").concat(l-c,"\n      L").concat(c," ").concat(c,"\n      ")),w=E[X],C=F-o-f-el,m=k-a-x-ei,S=[c,c,l-2*c,l-2*c],B=[0,0,l,l],A={inner:[i.createLinearGradient(...S),i.createLinearGradient(...S),i.createLinearGradient(...S)],outer:[i.createLinearGradient(...B),i.createLinearGradient(...B),i.createLinearGradient(...B)],flag:i.createLinearGradient(36.5,212.5,36.5,259)};A.flag.addColorStop(0,"#E8E8E8"),A.flag.addColorStop(1,"transparent"),A.inner.forEach((e,t)=>{e.addColorStop(0,_.inner[t][0]),e.addColorStop(1,_.inner[t][1])}),A.outer.forEach((e,t)=>{e.addColorStop(0,_.outer[t][0]),e.addColorStop(.4,_.outer[t][0]),e.addColorStop(.6,_.outer[t][1]),e.addColorStop(1,_.outer[t][1])}),null==n||n.forEach((e,t)=>{if(null==e||e.forEach((e,n)=>{var r;if((null===(r=ea[t])||void 0===r?void 0:r[n])===e)return;let o=(n-f)*l,a=(t-x)*l;if(!(o<-l)&&!(a<-l)&&!(o>j+l)&&!(a>b+l)){switch(i.save(),i.translate(o,a),e){case"C0":case"C1":case"F00":case"F01":case"FRED0":case"FRED1":case"F10":case"F11":case"FYELLOW0":case"FYELLOW1":case"F20":case"F21":case"FBLUE0":case"FBLUE1":case"F30":case"F31":case"FPURPLE0":case"FPURPLE1":{let r="0"===e.slice(-1)?0:1;1>=Math.abs(t-u)&&1>=Math.abs(n-d)&&!(n===d&&t===u)&&e.includes("C")?(ey(s,o,a,"#0000002f",.5),i.fillStyle="white"):i.fillStyle=A.outer[r],i.fill(v),i.fillStyle=A.inner[r],i.fill(L),e.includes("F")&&(i.restore(),i.save(),i.translate(o+l/6,a+l/6),i.scale(I/4.5,I/4.5),i.fillStyle=E[e.slice(1,-1).toLowerCase()],i.fill(null==ed?void 0:ed.flag.flag),i.fillStyle=A.flag,i.fill(null==ed?void 0:ed.flag.pole),i.restore());break}case"O":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"B":if(i.fillStyle=A.outer[2],i.fill(v),i.fillStyle=A.inner[2],i.fill(L),"B"===e&&(i.scale(I/3.5,I/3.5),i.fillStyle="rgba(0, 0, 0, 0.6)",i.fill(null==ed?void 0:ed.boom.inner),i.fillStyle="rgba(0, 0, 0, 0.5)",i.fill(null==ed?void 0:ed.boom.outer)),i.restore(),parseInt(e)>0){let t=parseInt(e)-1;i.fillStyle=M[t],i.font=50*I+"px LOTTERIACHAB",i.textAlign="center",i.textBaseline="middle",i.fillText(e,o+l/2,a+l/2)}}i.restore()}}),t===Math.floor(3*n.length/10)){if(ey(s,h,g,w),ep(),s.beginPath(),s.strokeStyle=w,s.lineWidth=c,s.strokeRect(y+c/2,p+c/2,l-c,l-c),s.closePath(),en.length>0){s.beginPath(),s.strokeStyle="black",s.lineWidth=l/6;let e=en[0].x+C,t=en[0].y+m;s.moveTo(e*l+l/2,t*l+l/2),en.forEach(e=>{let t=e.x+C,n=e.y+m;s.lineTo(t*l+l/2,n*l+l/2)}),s.stroke()}ec(n)}})};return(0,i.useEffect)(()=>{if(ee){eu({cursor:new Path2D(m),flag:{flag:new Path2D(S[0]),pole:new Path2D(S[1])},boom:{inner:new Path2D(C[0]),outer:new Path2D(C[1])}});let e=new FontFace("LOTTERIACHAB","url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2302@1.0/LOTTERIACHAB.woff2') format('woff2')");Promise.all([e.load()]).then(()=>{document.fonts.add(e),setTimeout(()=>{et(!1)},500)});return}eL()},[n,ee,l,o,a,c,H,U,X,I]),(0,i.useEffect)(()=>{0!==J.length&&ep()},[J]),(0,r.jsx)(r.Fragment,{children:ee?(0,r.jsxs)("div",{className:y().loading,children:[(0,r.jsx)("h1",{children:"Loading..."}),(0,r.jsx)("div",{className:"".concat(n.length<1?y().loadingBar:y().loadComplete)})]}):(0,r.jsxs)("div",{ref:V,className:y().canvasContainer,children:[(0,r.jsx)("canvas",{className:"".concat(y().canvas),id:"TileCanvas",ref:q,width:j,height:b}),(0,r.jsx)("canvas",{className:y().canvas,id:"OtherCursors",ref:Q,width:j,height:b}),(0,r.jsx)("canvas",{className:"".concat(y().canvas," "),id:"InteractionCanvas",ref:K,width:j,height:b,onClick:ex,onMouseDown:ex})]})})};var m=n(8871),S=n.n(m);function _(e){let{time:t}=e;return(0,r.jsx)("div",{className:S().inactive,children:(0,r.jsxs)("div",{className:S().alert,children:[(0,r.jsx)("p",{children:"You`re stunned!"}),(0,r.jsx)("p",{children:"Try Again After"}),(0,r.jsxs)("p",{children:[Math.floor(t/60),":",(t%60).toString().padStart(2,"0")]})]})})}function M(){let e="".concat("wss://a4ed-152-67-203-244.ngrok-free.app","/session"),{isOpen:t,message:n,sendMessage:l,connect:a}=L(),{x:c,y:d,setColor:u,setPosition:f,zoom:x,setZoom:y,originX:p,originY:w,setOringinPosition:m}=h(),{setCursors:S,addCursors:M,cursors:E}=g(),{x:b,y:j,setPosition:F}=v(),{windowWidth:k,windowHeight:B}=s(),[A,O]=(0,i.useState)(0),[N,D]=(0,i.useState)({x:0,y:0}),[P,R]=(0,i.useState)({x:0,y:0}),[Y,I]=(0,i.useState)({x:0,y:0}),[X,T]=(0,i.useState)([]),[W,H]=(0,i.useState)([...X.map(e=>[...e])]),[U,G]=(0,i.useState)(-1),J=(e,n,r,o,i)=>{if(!t)return;let s=Math.abs(r-e)+1,a=Math.abs(n-o)+1;T(e=>{let t=[...e];if(i.includes("U"))for(let e=0;e<a;e++)t.unshift([...Array(s).fill("??")]),t.pop();if(i.includes("D"))for(let e=0;e<a;e++)t.push([...Array(s).fill("??")]),t.shift();if(i.includes("L"))for(let e=0;e<a;e++)t[e]=[...Array(s).fill("??"),...t[e].slice(0,-1)];if(i.includes("R"))for(let e=0;e<a;e++)t[e]=[...t[e].slice(s,t[0].length),...Array(s).fill("??")];return i.includes("A")?Array.from({length:a},()=>Array.from({length:s},()=>"??")):t}),l(JSON.stringify({event:"fetch-tiles",payload:{start_p:{x:e,y:n},end_p:{x:r,y:o}}}))};(0,i.useEffect)(()=>{!t&&0!==N.x&&0!==N.y&&0!==P.x&&P.y&&a(e+"?view_width=".concat(P.x-N.x+1,"&view_height=").concat(P.y-N.y+1))},[t,N,P]);let z=e=>{let t=e.match(/.{1,2}/g);if(!t)return"";let n=t.map(e=>parseInt(e,16).toString(2).padStart(8,"0")).join("");if("1"===n[0]){let e="1"===n[1],t=parseInt(n.slice(5),2);return e?"B":0===t?"O":t.toString()}let r="1"===n[2],l="";switch(n.slice(3,5)){case"00":l="0";break;case"01":l="1";break;case"10":l="2";break;case"11":l="3";break;default:l=""}return r?"F"+l:"C"},Z=(e,t,n,r,l)=>{let o=2*Math.abs(e-n+1),i=Math.abs(r-t+1),s=[];if(0!==l.length){for(let e=0;e<i;e++){let t=l.slice(e*o,(e+1)*o),n=[];for(let e=0;e<o/2;e++){let r=t.slice(2*e,2*e+2);n[e]=z(r)}s[e]=n}s.reverse(),T(()=>{let e=[...X];for(let r=0;r<i;r++){let l=r+(d<t?P.y-N.y-i+1:0);for(let i=0;i<o;i++){e[l]||(e[l]=[]);let o=s[r][i];((null==o?void 0:o.includes("C"))||(null==o?void 0:o.includes("F")))&&(o+=(r-t+i-n)%2==0?"0":"1"),o&&(e[l][i+n-N.x]=o)}}return e})}};return(0,i.useEffect)(()=>{if(n)try{let{event:t,payload:r}=JSON.parse(n);if("tiles"===t){let{end_p:{x:e,y:t},start_p:{x:n,y:l},tiles:o}=r;Z(e,t,n,l,o)}else if("flag-set"===t||"tile-updated"===t)T(e=>{let{position:{x:t,y:n},tile:{color:l,is_flag:o,is_mine:i,is_open:s,number:a}}=r,c=[...e];if(s){if(i)c[n-N.y][t-N.x]="B";else{var d;c[n-N.y][t-N.x]=null!==(d=null==a?void 0:a.toString())&&void 0!==d?d:"O"}}else c[n-N.y][t-N.x]=(o?"F"+l:"C")+((t+n)%2==0?"0":"1");return c});else if("my-cursor"===t){let{position:e,pointer:t,color:n}=r;m(e.x,e.y),f(e.x,e.y),u(n.toLowerCase()),t&&F(t.x,t.y,"")}else if("you-died"===t){var e;let{revive_at:t}=r,n=((e=new Date(t),void 0===e)?void 0:e.getTime())-new Date().getTime();G(Math.floor(n/1e3))}else if("cursors"===t){let e=r.cursors.map(e=>{let{position:t,color:n}=e;return{x:t.x,y:t.y,color:n.toLowerCase()}});M(e)}else if("moved"===t){let{origin_position:e,new_position:t,color:n}=r,{x:l,y:o}=e,{x:i,y:s}=t,a=[...E],c=a.findIndex(e=>e.x===l&&e.y===o&&e.color===n.toLowerCase());console.log(),-1!==c&&(a[c].x=i,a[c].y=s),S(a)}else if("cursor-quit"===t){let{color:e,position:t}=r,n=[...E],l=n.findIndex(n=>n.x===t.x&&n.y===t.y&&n.color===e.toLowerCase());-1!==l&&n.splice(l,1),S(n)}}catch(e){console.error(e)}},[n]),(0,i.useEffect)(()=>{H(()=>{let e=[...X.map(e=>[...e.map(()=>"??")])];for(let r=0;r<X.length;r++){let l=r+w-d;for(let o=0;o<X[r].length;o++){var t,n;let i=o+p-c;(null===(t=X[l])||void 0===t?void 0:t[i])&&(e[r][o]=(null===(n=X[l])||void 0===n?void 0:n[i])||"??")}}return e})},[X,p,w]),(0,i.useEffect)(()=>{let e=80*x,n=Math.floor(Math.floor(2*k/e)/2),r=Math.floor(Math.floor(2*B/e)/2);D({x:c-n,y:d-r}),R({x:c+n,y:d+r}),I({x:p-n,y:w-r}),O(e),t&&l(JSON.stringify({event:"set-view-size",payload:{width:Math.floor(Math.floor(2*k/e)),height:Math.floor(Math.floor(2*B/e))}}))},[k,B,x,p,w,c,d,2,t]),(0,i.useEffect)(()=>{let e=80*x,t=Math.floor(2*k/e),n=Math.floor(2*B/e),r=Math.floor(t/2),l=Math.floor(n/2),o=0,i=0;t>P.x-N.x+1||n>P.y-N.y+1?(o=Math.floor(l-(P.y-N.y)/2),i=Math.round(r-(P.x-N.x)/2)):(o=-Math.round((P.y-N.y-n)/2),i=-Math.round((P.x-N.x-t)/2)),J(N.x-i,P.y+o,P.x+i,N.y-o,"A")},[k,B,x,2,t]),(0,i.useEffect)(()=>{let e=c-p,t=d-w,n=N.y-1,r=N.y+t,l=P.y+t,o=P.y+1,i=N.x+e,s=N.x-1,a=P.x+1,u=P.x+e;e>0&&t>0?(J(a,l,u,r,"R"),J(i,l,u,o,"D")):e<0&&t>0?(J(i,l,s,r,"L"),J(i,l,u,o,"D")):e>0&&t<0?(J(a,l,u,r,"R"),J(i,n,u,r,"U")):e<0&&t<0?(J(i,l,s,r,"L"),J(i,n,u,r,"U")):e>0?J(a,P.y,u,N.y,"R"):e<0?J(i,P.y,s,N.y,"L"):t>0?J(N.x,l,P.x,o,"D"):t<0&&J(N.x,n,P.x,r,"U")},[c,d]),(0,i.useEffect)(()=>{t&&l(JSON.stringify({event:"moving",payload:{position:{x:p,y:w}}}))},[p,w]),(0,i.useEffect)(()=>{U<1||setTimeout(()=>{G(e=>e-1)},1e3)},[U]),(0,r.jsxs)("div",{className:o().page,children:[U>0&&(0,r.jsx)(_,{time:U}),(0,r.jsxs)("div",{className:o().dashboard,children:[(0,r.jsxs)("div",{className:o().coordinates,children:[(0,r.jsxs)("p",{children:["\xa0",(0,r.jsx)("svg",{width:"22",height:"26",viewBox:"0 0 22 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0.436226 1.88654C0.321855 0.917668 1.42232 0.282312 2.2042 0.865797L20.8289 14.7645C21.6738 15.3951 21.2476 16.7379 20.1937 16.7657L12.1637 16.978C11.0359 17.0078 9.99976 17.606 9.41006 18.5678L5.21123 25.4159C4.66013 26.3147 3.28415 26.0124 3.16055 24.9653L0.436226 1.88654Z",fill:"white"})}),"(",p,", ",w,")"]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M20 5L26 5C26.5523 5 27 5.44772 27 6L27 12",stroke:"white",strokeWidth:"4",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M12 27L6 27C5.44772 27 5 26.5523 5 26L5 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M5 12L5 6C5 5.44772 5.44772 5 6 5L12 5",stroke:"white",strokeWidth:"4",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M27 20L27 26C27 26.5523 26.5523 27 26 27L20 27",stroke:"white",strokeWidth:"4",strokeLinecap:"round"})]}),"\xa0(",b===1/0?"":b,", ",j===1/0?"":j,")"]})]}),(0,r.jsxs)("div",{className:o().zoom,children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"14",cy:"14",r:"9",stroke:"white",strokeWidth:"4"}),(0,r.jsx)("path",{d:"M27 27L21.5 21.5",stroke:"white",strokeWidth:"4",strokeLinecap:"round"})]}),"\xa0",Math.ceil(100*x),"%"]}),(0,r.jsxs)("div",{className:o().buttons,children:[(0,r.jsx)("button",{onClick:()=>y(x/1.5>.2?x/1.5:x),children:"-"}),(0,r.jsx)("button",{onClick:()=>y(1.5*x<1.7?1.5*x:x),children:"+"})]})]})]}),(0,r.jsx)("div",{className:o().canvas,children:(0,r.jsx)(C,{paddingTiles:2,tiles:W,tileSize:A,startPoint:Y,cursorOriginX:p,cursorOriginY:w})})]})}},9194:()=>{},1269:e=>{e.exports={page:"page_page__9CbJ0",dashboard:"page_dashboard__XMpg7",coordinates:"page_coordinates__Ubj9q",zoom:"page_zoom__3EHl9",buttons:"page_buttons__QH6Az"}},40:e=>{e.exports={loading:"style_loading__42LVe",loadingBar:"style_loadingBar__AtBJr",loadingAnimation:"style_loadingAnimation__ScSQQ",loadComplete:"style_loadComplete__SRD5Z",canvasContainer:"style_canvasContainer__nKMjH",canvas:"style_canvas__m8mJO"}},8871:e=>{e.exports={inactive:"style_inactive__B_gRa",alert:"style_alert__pv_lG"}}},e=>{var t=t=>e(e.s=t);e.O(0,[935,441,517,358],()=>t(7439)),_N_E=e.O()}]);